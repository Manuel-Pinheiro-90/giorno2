<main>
  <div class="container">
    <h1 class="text-center my-5 text-white">Articolo in evidenza</h1>
    <div class="row">
      <div class="col-12 bg-secondary text-white p-5" *ngIf="firstPost">
        <h3>{{ firstPost.title }}</h3>
        <p>{{ firstPost.body }}</p>
        <span
          class="badge me-1"
          *ngFor="let tag of firstPost.tags"
          appDirettiva1
          >{{ tag | uppercase }}</span
        >
      </div>
      <a [routerLink]="['/post-detail', firstPost.id]" class="btn btn-primary"
        >Dettaglio</a
      >
    </div>
    <h4>articoli consigliati</h4>

    <h2 class="text-center my-5 text-white">
      Potrebbero piacerti questi posts
    </h2>
    <div class="row">
      <div class="col-12 col-md-6 col-lg-3" *ngFor="let post of randomPosts">
        <div class="card h-100">
          <div class="card-body d-flex flex-column justify-content-between">
            <h5 class="card-title">{{ post.title }}</h5>
            <p class="card-text">{{ post.body }}</p>

            <span
              class="badge me-1"
              *ngFor="let tag of post.tags"
              appDirettiva1
              >{{ tag | uppercase }}</span
            >
            <a [routerLink]="['/post-detail', post.id]" class="btn btn-primary"
              >Dettaglio</a
            >
          </div>
        </div>
      </div>
    </div>

    <h2 class="text-center my-5 text-white">Tutti i tag</h2>
    <div class="text-center">
      <!--bottone che attiva il filtro sui tag li rende cliccabili illuminando il bottone e prende solo gli articoli con quel nome!-->
      <button
        class="btn btn-secondary m-1"
        *ngFor="let tg of alltags"
        (click)="filterByTag($event, tg)"
        [ngClass]="{
          'btn-success': filter === tg,
          'btn-secondary': filter !== tg
        }"
      >
        {{ tg | uppercase }}
      </button>
    </div>

    <h2 class="text-center my-5 text-white">Tutti gli articoli</h2>
    <h1>single post</h1>
    <div class="container">
      <div class="row">
        <div class="col-12 col-md-6 col-lg-3 my-1" *ngFor="let p of articleArr">
          <app-single-post [p]="p">
            <!--roba per riempire il saingle post-->
            <form>
              <input
                type="text"
                class="form-control"
                name="titolo"
                placeholder="Odio"
                [(ngModel)]="p.title"
              />
              <!--passo il titolo al single post e riempio il form -->
            </form>
          </app-single-post>
        </div>
      </div>
    </div>
  </div>
</main>
